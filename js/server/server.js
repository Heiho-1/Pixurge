const express = require('express')
const path = require('path')
const app = express();
const PORT = process.env.PORT || 3000
const http = require('http')
const server = http.createServer(app);
const io = require('socket.io')(server,{
  transports: ['websocket'],
 cors: {
    origin: "*",
    methods: ["GET", "POST"],
    credentials: true,
  }
});

//  vars
function genid(){
let id = ''
charset = "㡄ࡄ茢蕃馗茢焣̢ृ−㈑࠲茣{}!@#%^&*()_+1234567890ABCDEFGHIJKLMNOPQRSTUVģࡃ茡猢ሒ⌵╘╘█⡔▄▁"
for(i = 0; i < 6; i++){
id = id.concat(charset.charAt(Math.floor(Math.random()*charset.length)))
}
return id
}

var rplayers = []
var players = []
var blocks =[
    [
        667,
        483,
        23
    ],
    [
        690,
        483,
        23
    ],
    [
        713,
        483,
        23
    ],
    [
        782,
        506,
        23
    ],
    [
        713,
        506,
        23
    ],
    [
        667,
        506,
        23
    ],
    [
        690,
        506,
        23
    ],
    [
        736,
        506,
        23
    ],
    [
        736,
        529,
        23
    ],
    [
        575,
        529,
        23
    ],
    [
        552,
        529,
        23
    ],
    [
        529,
        529,
        23
    ],
    [
        506,
        529,
        23
    ],
    [
        483,
        529,
        23
    ],
    [
        575,
        506,
        23
    ],
    [
        552,
        506,
        23
    ],
    [
        529,
        506,
        23
    ],
    [
        552,
        483,
        23
    ],
    [
        598,
        529,
        23
    ],
    [
        621,
        529,
        23
    ],
    [
        621,
        552,
        23
    ],
    [
        598,
        552,
        23
    ],
    [
        506,
        575,
        23
    ],
    [
        529,
        552,
        23
    ],
    [
        506,
        552,
        23
    ],
    [
        483,
        552,
        23
    ],
    [
        460,
        575,
        23
    ],
    [
        552,
        598,
        23
    ],
    [
        598,
        598,
        23
    ],
    [
        575,
        621,
        23
    ],
    [
        575,
        598,
        23
    ],
    [
        621,
        644,
        23
    ],
    [
        644,
        621,
        23
    ],
    [
        644,
        598,
        23
    ],
    [
        690,
        621,
        23
    ],
    [
        713,
        644,
        23
    ],
    [
        713,
        598,
        23
    ],
    [
        713,
        621,
        23
    ],
    [
        736,
        598,
        23
    ],
    [
        736,
        621,
        23
    ],
    [
        506,
        667,
        23
    ],
    [
        529,
        667,
        23
    ],
    [
        529,
        690,
        23
    ],
    [
        552,
        690,
        23
    ],
    [
        552,
        667,
        23
    ],
    [
        506,
        644,
        23
    ],
    [
        529,
        644,
        23
    ],
    [
        460,
        621,
        23
    ],
    [
        460,
        644,
        23
    ],
    [
        437,
        621,
        23
    ],
    [
        437,
        644,
        23
    ],
    [
        897,
        552,
        23
    ],
    [
        874,
        483,
        23
    ],
    [
        874,
        506,
        23
    ],
    [
        828,
        506,
        23
    ],
    [
        851,
        483,
        23
    ],
    [
        828,
        483,
        23
    ],
    [
        828,
        460,
        23
    ],
    [
        805,
        460,
        23
    ],
    [
        851,
        460,
        23
    ],
    [
        851,
        437,
        23
    ],
    [
        828,
        437,
        23
    ],
    [
        897,
        506,
        23
    ],
    [
        897,
        483,
        23
    ],
    [
        506,
        460,
        23
    ],
    [
        483,
        460,
        23
    ],
    [
        460,
        460,
        23
    ],
    [
        460,
        506,
        23
    ],
    [
        460,
        529,
        23
    ],
    [
        460,
        552,
        23
    ],
    [
        437,
        575,
        23
    ],
    [
        414,
        575,
        23
    ],
    [
        391,
        575,
        23
    ],
    [
        414,
        621,
        23
    ],
    [
        391,
        644,
        23
    ],
    [
        368,
        598,
        23
    ],
    [
        391,
        621,
        23
    ],
    [
        391,
        598,
        23
    ],
    [
        437,
        598,
        23
    ],
    [
        414,
        598,
        23
    ],
    [
        483,
        621,
        23
    ],
    [
        483,
        644,
        23
    ],
    [
        506,
        621,
        23
    ],
    [
        552,
        644,
        23
    ],
    [
        575,
        644,
        23
    ],
    [
        644,
        644,
        23
    ],
    [
        713,
        667,
        23
    ],
    [
        736,
        644,
        23
    ],
    [
        759,
        529,
        23
    ],
    [
        782,
        529,
        23
    ],
    [
        805,
        506,
        23
    ],
    [
        828,
        529,
        23
    ],
    [
        851,
        529,
        23
    ],
    [
        897,
        529,
        23
    ],
    [
        644,
        575,
        23
    ],
    [
        667,
        598,
        23
    ],
    [
        690,
        575,
        23
    ],
    [
        874,
        529,
        23
    ],
    [
        437,
        529,
        23
    ],
    [
        414,
        552,
        23
    ],
    [
        391,
        552,
        23
    ],
    [
        437,
        552,
        23
    ],
    [
        368,
        575,
        23
    ],
    [
        345,
        621,
        23
    ],
    [
        368,
        644,
        23
    ],
    [
        345,
        598,
        23
    ],
    [
        322,
        621,
        23,
        "#4a3f42"
    ],
    [
        322,
        598,
        23,
        "#4a3f42"
    ],
    [
        299,
        621,
        23,
        "#4a3f42"
    ],
    [
        299,
        598,
        23,
        "#4a3f42"
    ],
    [
        253,
        598,
        23,
        "brown"
    ],
    [
        230,
        621,
        23,
        "brown"
    ],
    [
        230,
        598,
        23,
        "brown"
    ],
    [
        207,
        598,
        23,
        "brown"
    ],
    [
        207,
        621,
        23,
        "brown"
    ],
    [
        184,
        621,
        23,
        "brown"
    ],
    [
        184,
        575,
        23,
        "brown"
    ],
    [
        207,
        575,
        23,
        "brown"
    ],
    [
        230,
        575,
        23,
        "brown"
    ],
    [
        253,
        575,
        23,
        "brown"
    ],
    [
        276,
        598,
        23,
        "brown"
    ],
    [
        276,
        621,
        23,
        "brown"
    ],
    [
        161,
        621,
        23,
        "brown"
    ],
    [
        161,
        598,
        23,
        "brown"
    ],
    [
        184,
        598,
        23,
        "white"
    ],
    [
        253,
        621,
        23,
        "white"
    ],
    [
        207,
        644,
        23,
        "#c6c79d"
    ],
    [
        230,
        644,
        23,
        "#c6c79d"
    ],
    [
        230,
        690,
        23,
        "#c6c79d"
    ],
    [
        207,
        690,
        23,
        "#c6c79d"
    ],
    [
        230,
        713,
        23,
        "#c6c79d"
    ],
    [
        207,
        713,
        23,
        "#c6c79d"
    ],
    [
        207,
        667,
        23,
        "#c6c79d"
    ],
    [
        230,
        667,
        23,
        "#c6c79d"
    ],
    [
        529,
        483,
        23,
        "#c6c79d"
    ],
    [
        529,
        460,
        23,
        "#c6c79d"
    ],
    [
        529,
        437,
        23,
        "#c6c79d"
    ],
    [
        529,
        391,
        23,
        "#c6c79d"
    ],
    [
        529,
        368,
        23,
        "#c6c79d"
    ],
    [
        529,
        345,
        23,
        "#c6c79d"
    ],
    [
        529,
        322,
        23,
        "#c6c79d"
    ],
    [
        506,
        322,
        23,
        "#c6c79d"
    ],
    [
        506,
        345,
        23,
        "#c6c79d"
    ],
    [
        506,
        368,
        23,
        "#c6c79d"
    ],
    [
        506,
        391,
        23,
        "#c6c79d"
    ],
    [
        506,
        414,
        23,
        "#c6c79d"
    ],
    [
        506,
        437,
        23,
        "#c6c79d"
    ],
    [
        529,
        414,
        23,
        "#c6c79d"
    ],
    [
        506,
        483,
        23,
        "#c6c79d"
    ],
    [
        506,
        299,
        23,
        "brown"
    ],
    [
        529,
        299,
        23,
        "brown"
    ],
    [
        506,
        276,
        23,
        "brown"
    ],
    [
        483,
        276,
        23,
        "brown"
    ],
    [
        552,
        299,
        23,
        "brown"
    ],
    [
        552,
        276,
        23,
        "brown"
    ],
    [
        529,
        253,
        23,
        "brown"
    ],
    [
        506,
        253,
        23,
        "brown"
    ],
    [
        483,
        253,
        23,
        "brown"
    ],
    [
        552,
        253,
        23,
        "brown"
    ],
    [
        529,
        230,
        23,
        "brown"
    ],
    [
        506,
        230,
        23,
        "brown"
    ],
    [
        460,
        299,
        23,
        "brown"
    ],
    [
        460,
        276,
        23,
        "brown"
    ],
    [
        575,
        276,
        23,
        "brown"
    ],
    [
        575,
        253,
        23,
        "brown"
    ],
    [
        483,
        230,
        23,
        "brown"
    ],
    [
        483,
        506,
        23,
        "green"
    ],
    [
        483,
        483,
        23,
        "green"
    ],
    [
        460,
        483,
        23,
        "green"
    ],
    [
        437,
        506,
        23,
        "green"
    ],
    [
        414,
        506,
        23,
        "green"
    ],
    [
        414,
        529,
        23,
        "green"
    ],
    [
        391,
        529,
        23,
        "green"
    ],
    [
        368,
        552,
        23,
        "green"
    ],
    [
        345,
        575,
        23,
        "green"
    ],
    [
        299,
        575,
        23,
        "green"
    ],
    [
        322,
        575,
        23,
        "green"
    ],
    [
        322,
        552,
        23,
        "green"
    ],
    [
        345,
        552,
        23,
        "green"
    ],
    [
        345,
        529,
        23,
        "green"
    ],
    [
        368,
        529,
        23,
        "green"
    ],
    [
        368,
        506,
        23,
        "green"
    ],
    [
        414,
        483,
        23,
        "green"
    ],
    [
        437,
        483,
        23,
        "green"
    ],
    [
        736,
        483,
        23,
        "green"
    ],
    [
        759,
        483,
        23,
        "green"
    ],
    [
        759,
        506,
        23,
        "green"
    ],
    [
        782,
        483,
        23,
        "green"
    ],
    [
        805,
        483,
        23,
        "green"
    ],
    [
        782,
        460,
        23,
        "green"
    ],
    [
        759,
        460,
        23,
        "green"
    ],
    [
        736,
        460,
        23,
        "green"
    ],
    [
        713,
        460,
        23,
        "green"
    ],
    [
        690,
        460,
        23,
        "green"
    ],
    [
        759,
        437,
        23,
        "green"
    ],
    [
        782,
        437,
        23,
        "green"
    ],
    [
        805,
        437,
        23,
        "green"
    ],
    [
        897,
        460,
        23,
        "green"
    ],
    [
        874,
        460,
        23,
        "green"
    ],
    [
        851,
        506,
        23,
        "green"
    ],
    [
        230,
        736,
        23,
        "green"
    ],
    [
        207,
        736,
        23,
        "green"
    ],
    [
        207,
        759,
        23,
        "green"
    ],
    [
        230,
        759,
        23,
        "green"
    ],
    [
        506,
        506,
        23,
        "green"
    ],
    [
        598,
        483,
        23,
        "green"
    ],
    [
        575,
        483,
        23,
        "green"
    ],
    [
        621,
        506,
        23,
        "green"
    ],
    [
        644,
        483,
        23,
        "green"
    ],
    [
        621,
        483,
        23,
        "green"
    ],
    [
        644,
        506,
        23,
        "green"
    ],
    [
        598,
        506,
        23,
        "green"
    ],
    [
        253,
        759,
        23,
        "green"
    ],
    [
        253,
        736,
        23,
        "green"
    ],
    [
        276,
        759,
        23,
        "green"
    ],
    [
        276,
        736,
        23,
        "green"
    ],
    [
        184,
        759,
        23,
        "green"
    ],
    [
        184,
        736,
        23,
        "green"
    ],
    [
        161,
        736,
        23,
        "green"
    ],
    [
        184,
        713,
        23,
        "green"
    ],
    [
        161,
        759,
        23,
        "green"
    ],
    [
        161,
        782,
        23,
        "green"
    ],
    [
        184,
        782,
        23,
        "green"
    ],
    [
        207,
        782,
        23,
        "green"
    ],
    [
        299,
        736,
        23,
        "green"
    ],
    [
        299,
        713,
        23,
        "green"
    ],
    [
        322,
        713,
        23,
        "green"
    ],
    [
        345,
        736,
        23,
        "green"
    ],
    [
        322,
        759,
        23,
        "green"
    ],
    [
        299,
        759,
        23,
        "green"
    ],
    [
        322,
        736,
        23,
        "green"
    ],
    [
        230,
        782,
        23,
        "#5a5d6b"
    ],
    [
        253,
        782,
        23,
        "#5a5d6b"
    ],
    [
        276,
        782,
        23,
        "#5a5d6b"
    ],
    [
        299,
        782,
        23,
        "#5a5d6b"
    ],
    [
        322,
        782,
        23,
        "#5a5d6b"
    ],
    [
        345,
        759,
        23,
        "#5a5d6b"
    ],
    [
        345,
        782,
        23,
        "#5a5d6b"
    ],
    [
        299,
        805,
        23,
        "#5a5d6b"
    ],
    [
        276,
        805,
        23,
        "#5a5d6b"
    ],
    [
        230,
        805,
        23,
        "#5a5d6b"
    ],
    [
        207,
        805,
        23,
        "#5a5d6b"
    ],
    [
        184,
        805,
        23,
        "#5a5d6b"
    ],
    [
        253,
        805,
        23,
        "#5a5d6b"
    ],
    [
        253,
        828,
        23,
        "#5a5d6b"
    ],
    [
        276,
        828,
        23,
        "#5a5d6b"
    ],
    [
        299,
        828,
        23,
        "#5a5d6b"
    ],
    [
        414,
        667,
        23,
        "#5a5d6b"
    ],
    [
        368,
        690,
        23,
        "#5a5d6b"
    ],
    [
        368,
        713,
        23,
        "#5a5d6b"
    ],
    [
        368,
        736,
        23,
        "#5a5d6b"
    ],
    [
        391,
        759,
        23,
        "#5a5d6b"
    ],
    [
        368,
        759,
        23,
        "#5a5d6b"
    ],
    [
        391,
        736,
        23,
        "#5a5d6b"
    ],
    [
        391,
        713,
        23,
        "#5a5d6b"
    ],
    [
        414,
        690,
        23,
        "#5a5d6b"
    ],
    [
        391,
        690,
        23,
        "#5a5d6b"
    ],
    [
        414,
        713,
        23,
        "#5a5d6b"
    ],
    [
        414,
        736,
        23,
        "#5a5d6b"
    ],
    [
        368,
        667,
        23,
        "#5a5d6b"
    ],
    [
        391,
        667,
        23,
        "#5a5d6b"
    ],
    [
        414,
        644,
        23,
        "#5a5d6b"
    ],
    [
        460,
        253,
        23,
        "white"
    ],
    [
        529,
        276,
        23,
        "white"
    ],
    [
        552,
        230,
        23,
        "white"
    ],
    [
        575,
        299,
        23,
        "white"
    ],
    [
        483,
        299,
        23,
        "white"
    ],
    [
        667,
        437,
        23,
        "gray"
    ],
    [
        667,
        414,
        23,
        "gray"
    ],
    [
        644,
        437,
        23,
        "gray"
    ],
    [
        644,
        414,
        23,
        "gray"
    ],
    [
        644,
        391,
        23,
        "gray"
    ],
    [
        667,
        391,
        23,
        "gray"
    ],
    [
        644,
        368,
        23,
        "gray"
    ],
    [
        690,
        368,
        23,
        "gray"
    ],
    [
        690,
        391,
        23,
        "gray"
    ],
    [
        690,
        345,
        23,
        "gray"
    ],
    [
        667,
        345,
        23,
        "gray"
    ],
    [
        713,
        368,
        23,
        "gray"
    ],
    [
        690,
        414,
        23,
        "gray"
    ],
    [
        644,
        322,
        23,
        "gray"
    ],
    [
        690,
        322,
        23,
        "gray"
    ],
    [
        667,
        253,
        23,
        "gray"
    ],
    [
        644,
        253,
        23,
        "gray"
    ],
    [
        644,
        276,
        23,
        "gray"
    ],
    [
        621,
        299,
        23,
        "gray"
    ],
    [
        621,
        276,
        23,
        "gray"
    ],
    [
        621,
        368,
        23,
        "gray"
    ],
    [
        621,
        391,
        23,
        "gray"
    ],
    [
        713,
        345,
        23,
        "gray"
    ],
    [
        736,
        345,
        23,
        "gray"
    ],
    [
        621,
        437,
        23,
        "gray"
    ],
    [
        621,
        414,
        23,
        "gray"
    ],
    [
        667,
        368,
        23,
        "gray"
    ],
    [
        644,
        299,
        23,
        "gray"
    ],
    [
        736,
        322,
        23,
        "dark gray"
    ],
    [
        621,
        253,
        23,
        "dark gray"
    ],
    [
        690,
        253,
        23,
        "dark gray"
    ],
    [
        713,
        276,
        23,
        "dark gray"
    ],
    [
        621,
        460,
        23,
        "#666666"
    ],
    [
        644,
        460,
        23,
        "#666666"
    ],
    [
        667,
        460,
        23,
        "#666666"
    ],
    [
        690,
        299,
        23,
        "#666666"
    ],
    [
        667,
        299,
        23,
        "#666666"
    ],
    [
        713,
        299,
        23,
        "#666666"
    ],
    [
        690,
        276,
        23,
        "gray"
    ],
    [
        667,
        276,
        23,
        "gray"
    ],
    [
        713,
        322,
        23,
        "black"
    ],
    [
        667,
        322,
        23,
        "black"
    ],
    [
        690,
        437,
        23,
        "gray"
    ],
    [
        644,
        345,
        23,
        "gray"
    ],
    [
        621,
        345,
        23,
        "gray"
    ],
    [
        713,
        575,
        23,
        "#4a3f42"
    ],
    [
        667,
        575,
        23,
        "#4a3f42"
    ],
    [
        644,
        529,
        23,
        "#4a3f42"
    ],
    [
        667,
        529,
        23,
        "#4a3f42"
    ],
    [
        690,
        529,
        23,
        "#4a3f42"
    ],
    [
        713,
        529,
        23,
        "#4a3f42"
    ],
    [
        690,
        552,
        23,
        "#4a3f42"
    ],
    [
        667,
        552,
        23,
        "#4a3f42"
    ],
    [
        644,
        552,
        23,
        "#4a3f42"
    ],
    [
        621,
        575,
        23,
        "#4a3f42"
    ],
    [
        598,
        575,
        23,
        "#4a3f42"
    ],
    [
        690,
        598,
        23,
        "#4a3f42"
    ],
    [
        713,
        552,
        23,
        "#4a3f42"
    ],
    [
        759,
        552,
        23,
        "#4a3f42"
    ],
    [
        782,
        598,
        23,
        "#4a3f42"
    ],
    [
        805,
        598,
        23,
        "#4a3f42"
    ],
    [
        828,
        621,
        23,
        "#4a3f42"
    ],
    [
        851,
        621,
        23,
        "#4a3f42"
    ],
    [
        897,
        621,
        23,
        "#4a3f42"
    ],
    [
        828,
        598,
        23,
        "#4a3f42"
    ],
    [
        805,
        575,
        23,
        "#4a3f42"
    ],
    [
        782,
        575,
        23,
        "#4a3f42"
    ],
    [
        805,
        552,
        23,
        "#4a3f42"
    ],
    [
        805,
        552,
        23,
        "#4a3f42"
    ],
    [
        805,
        529,
        23,
        "#4a3f42"
    ],
    [
        782,
        552,
        23,
        "#4a3f42"
    ],
    [
        874,
        621,
        23,
        "#4a3f42"
    ],
    [
        920,
        483,
        23,
        "#4a3f42"
    ],
    [
        943,
        506,
        23,
        "#4a3f42"
    ],
    [
        943,
        483,
        23,
        "green"
    ],
    [
        920,
        460,
        23,
        "green"
    ],
    [
        874,
        598,
        23,
        "green"
    ],
    [
        897,
        598,
        23,
        "green"
    ],
    [
        851,
        598,
        23,
        "green"
    ],
    [
        828,
        575,
        23,
        "green"
    ],
    [
        851,
        575,
        23,
        "green"
    ],
    [
        805,
        621,
        23,
        ""
    ],
    [
        805,
        644,
        23,
        ""
    ],
    [
        828,
        644,
        23,
        ""
    ],
    [
        851,
        644,
        23,
        ""
    ],
    [
        782,
        621,
        23,
        ""
    ],
    [
        1012,
        552,
        23,
        ""
    ],
    [
        1035,
        575,
        23,
        ""
    ],
    [
        1058,
        575,
        23,
        ""
    ],
    [
        1058,
        506,
        23,
        ""
    ],
    [
        1081,
        529,
        23,
        ""
    ],
    [
        1104,
        529,
        23,
        ""
    ],
    [
        1127,
        529,
        23,
        ""
    ],
    [
        1150,
        529,
        23,
        ""
    ],
    [
        1058,
        552,
        23,
        ""
    ],
    [
        1035,
        552,
        23,
        ""
    ],
    [
        1058,
        529,
        23,
        ""
    ],
    [
        1173,
        552,
        23,
        ""
    ],
    [
        1196,
        552,
        23,
        ""
    ],
    [
        1219,
        529,
        23,
        ""
    ],
    [
        1219,
        506,
        23,
        ""
    ],
    [
        1196,
        529,
        23,
        ""
    ],
    [
        1173,
        529,
        23,
        ""
    ],
    [
        1173,
        483,
        23,
        ""
    ],
    [
        1196,
        483,
        23,
        ""
    ],
    [
        1196,
        506,
        23,
        ""
    ],
    [
        1242,
        483,
        23,
        ""
    ],
    [
        1242,
        506,
        23,
        ""
    ],
    [
        1242,
        552,
        23,
        ""
    ],
    [
        1265,
        552,
        23,
        ""
    ],
    [
        1311,
        552,
        23,
        ""
    ],
    [
        1311,
        529,
        23,
        ""
    ],
    [
        1334,
        506,
        23,
        ""
    ],
    [
        1357,
        506,
        23,
        ""
    ],
    [
        1357,
        483,
        23,
        ""
    ],
    [
        1334,
        483,
        23,
        ""
    ],
    [
        1311,
        483,
        23,
        ""
    ],
    [
        1311,
        506,
        23,
        ""
    ],
    [
        1288,
        529,
        23,
        ""
    ],
    [
        1265,
        529,
        23,
        ""
    ],
    [
        1242,
        529,
        23,
        ""
    ],
    [
        1219,
        460,
        23,
        ""
    ],
    [
        552,
        575,
        23,
        ""
    ],
    [
        575,
        552,
        23,
        ""
    ],
    [
        1150,
        506,
        23,
        ""
    ],
    [
        1081,
        483,
        23,
        ""
    ],
    [
        1081,
        506,
        23,
        ""
    ],
    [
        1035,
        506,
        23,
        ""
    ],
    [
        1012,
        529,
        23,
        ""
    ],
    [
        1265,
        460,
        23,
        ""
    ],
    [
        1265,
        483,
        23,
        ""
    ],
    [
        1288,
        460,
        23,
        ""
    ],
    [
        1311,
        460,
        23,
        ""
    ],
    [
        1357,
        529,
        23,
        ""
    ],
    [
        1380,
        483,
        23,
        ""
    ],
    [
        1403,
        529,
        23,
        ""
    ],
    [
        1380,
        529,
        23,
        ""
    ],
    [
        1403,
        506,
        23,
        ""
    ],
    [
        1426,
        506,
        23,
        ""
    ],
    [
        1035,
        483,
        23,
        "green"
    ],
    [
        1058,
        483,
        23,
        "green"
    ],
    [
        1012,
        506,
        23,
        "green"
    ],
    [
        1081,
        460,
        23,
        "green"
    ],
    [
        1058,
        460,
        23,
        "green"
    ],
    [
        1127,
        506,
        23,
        "green"
    ],
    [
        1104,
        506,
        23,
        "green"
    ],
    [
        1173,
        460,
        23,
        "green"
    ],
    [
        1196,
        460,
        23,
        "green"
    ],
    [
        1357,
        460,
        23,
        "green"
    ],
    [
        1380,
        460,
        23,
        "green"
    ],
    [
        1334,
        460,
        23,
        "green"
    ],
    [
        1403,
        483,
        23,
        "green"
    ],
    [
        1426,
        483,
        23,
        "green"
    ],
    [
        1150,
        483,
        23,
        "green"
    ],
    [
        1127,
        483,
        23,
        "green"
    ],
    [
        1104,
        483,
        23,
        "green"
    ],
    [
        1104,
        460,
        23,
        "green"
    ],
    [
        1081,
        437,
        23,
        "green"
    ],
    [
        1081,
        552,
        23,
        ""
    ],
    [
        1127,
        552,
        23,
        ""
    ],
    [
        1150,
        575,
        23,
        ""
    ],
    [
        1242,
        598,
        23,
        ""
    ],
    [
        1242,
        575,
        23,
        ""
    ],
    [
        1265,
        598,
        23,
        ""
    ],
    [
        1380,
        552,
        23,
        ""
    ],
    [
        1035,
        598,
        23,
        ""
    ],
    [
        1219,
        368,
        23,
        "gray"
    ],
    [
        1219,
        345,
        23,
        "gray"
    ],
    [
        1219,
        322,
        23,
        "gray"
    ],
    [
        1357,
        437,
        23,
        "gray"
    ],
    [
        1357,
        414,
        23,
        "gray"
    ],
    [
        1357,
        391,
        23,
        "gray"
    ],
    [
        1357,
        345,
        23,
        "gray"
    ],
    [
        1357,
        368,
        23,
        "gray"
    ],
    [
        1334,
        437,
        23,
        "gray"
    ],
    [
        1311,
        437,
        23,
        "gray"
    ],
    [
        1288,
        437,
        23,
        "gray"
    ],
    [
        1265,
        437,
        23,
        "gray"
    ],
    [
        1242,
        437,
        23,
        "gray"
    ],
    [
        1242,
        460,
        23,
        "gray"
    ],
    [
        1219,
        414,
        23,
        "gray"
    ],
    [
        1219,
        391,
        23,
        "gray"
    ],
    [
        1219,
        437,
        23,
        "gray"
    ],
    [
        1196,
        345,
        23,
        "gray"
    ],
    [
        1173,
        345,
        23,
        "gray"
    ],
    [
        1173,
        368,
        23,
        "gray"
    ],
    [
        1173,
        391,
        23,
        "gray"
    ],
    [
        1196,
        414,
        23,
        "gray"
    ],
    [
        1334,
        414,
        23,
        "blue"
    ],
    [
        1311,
        414,
        23,
        "blue"
    ],
    [
        1288,
        414,
        23,
        "blue"
    ],
    [
        1265,
        414,
        23,
        "blue"
    ],
    [
        1242,
        414,
        23,
        "blue"
    ],
    [
        1265,
        391,
        23,
        "blue"
    ],
    [
        1288,
        391,
        23,
        "blue"
    ],
    [
        1311,
        391,
        23,
        "blue"
    ],
    [
        1242,
        391,
        23,
        "blue"
    ],
    [
        1242,
        368,
        23,
        "blue"
    ],
    [
        1265,
        368,
        23,
        "blue"
    ],
    [
        1334,
        391,
        23,
        "blue"
    ],
    [
        1334,
        368,
        23,
        "blue"
    ],
    [
        1311,
        368,
        23,
        "blue"
    ],
    [
        1288,
        368,
        23,
        "blue"
    ],
    [
        1035,
        460,
        23,
        "#ccbba3"
    ],
    [
        1035,
        414,
        23,
        "#ccbba3"
    ],
    [
        1127,
        460,
        23,
        "#ccbba3"
    ],
    [
        1150,
        460,
        23,
        "#ccbba3"
    ],
    [
        1150,
        437,
        23,
        "#ccbba3"
    ],
    [
        1127,
        437,
        23,
        "#ccbba3"
    ],
    [
        1058,
        414,
        23,
        "#ccbba3"
    ],
    [
        1058,
        437,
        23,
        "#ccbba3"
    ],
    [
        1035,
        437,
        23,
        "#ccbba3"
    ],
    [
        1173,
        414,
        23,
        "brown"
    ],
    [
        1127,
        414,
        23,
        "brown"
    ],
    [
        1104,
        414,
        23,
        "brown"
    ],
    [
        1127,
        391,
        23,
        "brown"
    ],
    [
        1150,
        391,
        23,
        "brown"
    ],
    [
        1104,
        391,
        23,
        "brown"
    ],
    [
        1150,
        368,
        23,
        "brown"
    ],
    [
        1058,
        391,
        23,
        "brown"
    ],
    [
        1035,
        391,
        23,
        "brown"
    ],
    [
        1012,
        391,
        23,
        "brown"
    ],
    [
        1058,
        368,
        23,
        "brown"
    ],
    [
        1081,
        368,
        23,
        "brown"
    ],
    [
        1012,
        368,
        23,
        "brown"
    ],
    [
        1035,
        345,
        23,
        "brown"
    ],
    [
        1058,
        345,
        23,
        "brown"
    ],
    [
        1035,
        368,
        23,
        "white"
    ],
    [
        1081,
        391,
        23,
        "white"
    ],
    [
        1127,
        368,
        23,
        "white"
    ],
    [
        1150,
        414,
        23,
        "white"
    ],
    [
        1265,
        506,
        23,
        ""
    ],
    [
        1288,
        506,
        23,
        ""
    ],
    [
        1288,
        483,
        23,
        ""
    ],
    [
        1219,
        483,
        23,
        ""
    ],
    [
        621,
        322,
        23,
        "gray"
    ],
    [
        713,
        437,
        23,
        "gray"
    ],
    [
        713,
        414,
        23,
        "gray"
    ]
]
server.listen(PORT)
// Connection
 io.on('connection', socket => {

 sockid = socket.id
  console.log('joined')
console.log(sockid)

socket.on('join',(posx,posy,userId) =>{
 for(let i = 0; i < players.length; i++){
 if(players[i][2] == userId){
  players.splice(i,1)
 }}

players.push([posx,posy,userId,sockid])
io.sockets.emit('sj',posx,posy,userId,players,blocks,sockid)
})
socket.on('bp',(bpos) =>{
bpos.push(genid())
blocks.push(bpos)
io.sockets.emit('place',bpos)
})
socket.on('disconnect',function(){
    let sockid =  socket.id
    console.log(sockid)
    io.sockets.emit('discon',sockid)
    for(let i = 0; i < players.length; i++){
    if(players[i][3] == sockid){
        players.splice(i,1)
    }

    }
})
socket.on('destroy',(id) =>{
for(let i = 0; i < blocks.length; i++){
if(blocks[i][blocks[i].length-1] == id){
blocks.splice(i,1)
io.sockets.emit('destroy',id)
}}
})
socket.on('move',(posx,posy,userId) =>{
io.sockets.emit('plmv',posx,posy,userId)
})
socket.on('msg',(chatmsg,userId)=>{
io.sockets.emit('msg',chatmsg,userId)
})

})
// Conncetion